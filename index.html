<!DOCTYPE html>
<html>
<head>
    <title>Sepenggal curhat: Semoga Lu Suka Zah! üé£</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap');
        
        body { 
            background: #0f172a; color: #f8fafc; font-family: 'Quicksand', sans-serif;
            margin: 0; padding: 0; 
            overflow-x: hidden; 
            min-height: 100vh;
        }

        #overlay {
            position: fixed; width: 100%; height: 100%; background: #0f172a;
            display: flex; justify-content: center; align-items: center; z-index: 999;
            flex-direction: column;
        }

        .decor { position: fixed; font-size: 25px; opacity: 0.3; animation: float 6s infinite ease-in-out; z-index: -1; }
        @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(20deg); } }

        .container { 
            min-height: 100vh; 
            display: flex; justify-content: center; align-items: center; 
            padding: 20px; box-sizing: border-box; position: relative;
        }

        .section { 
            display: none; text-align: center; max-width: 650px; width: 100%;
            animation: slideIn 0.5s ease-out;
            padding-bottom: 30px;
        }
        .section.active { display: block !important; }

        @keyframes slideIn { 
            from { opacity: 0; transform: translateY(30px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        img { 
            width: 100%; 
            height: auto; 
            max-height: 300px; 
            object-fit: contain; 
            border-radius: 25px; 
            border: 4px solid #38bdf8; 
            box-shadow: 0 20px 50px rgba(56, 189, 248, 0.15); 
            margin-bottom: 20px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        h2 { color: #38bdf8; font-size: 1.8em; margin-bottom: 20px; font-weight: 700; }
        p { line-height: 1.6; font-size: 1.1em; color: #cbd5e1; margin-bottom: 20px; }
        
        .highlight { color: #f472b6; font-weight: 700; font-size: 1.2em; }
        
        .story-box {
            background: rgba(30, 41, 59, 0.7); 
            padding: 25px; 
            border-radius: 30px;
            border: 1px solid rgba(56, 189, 248, 0.3); backdrop-filter: blur(10px);
            text-align: left;
        }

        .btn-nav {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            color: white; padding: 15px 35px; border-radius: 100px;
            text-decoration: none; font-weight: 700; display: inline-block;
            margin-top: 20px; font-size: 1.1em; transition: 0.4s;
            box-shadow: 0 10px 30px rgba(56, 189, 248, 0.4); border: none; cursor: pointer;
        }
        .btn-nav:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(56, 189, 248, 0.6); }

        .code-msg { 
            background: #000; color: #0f0; padding: 15px; border-radius: 10px; 
            font-family: 'Courier New', monospace; font-size: 0.9em; margin-top: 15px;
            border: 1px solid #0f0;
            word-break: break-all;
        }

        /* ========== GAME CONTAINER STYLES ========== */
        #gameContainer {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow: auto;
            padding: 20px;
        }

        .game-box {
            border: 3px solid #38bdf8;
            background: rgba(30, 41, 59, 0.9);
            padding: 25px;
            width: 90%;
            max-width: 600px;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(56, 189, 248, 0.3);
        }

        .game-title {
            color: #38bdf8;
            font-size: 1.8rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #38bdf8;
            padding-bottom: 10px;
        }

        /* Game Tabs */
        .game-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .game-tab {
            background: rgba(56, 189, 248, 0.2);
            color: #38bdf8;
            border: 2px solid #38bdf8;
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .game-tab.active {
            background: #38bdf8;
            color: white;
        }

        .game-tab:hover {
            transform: translateY(-3px);
        }

        /* Mini Game 1: Catch Fish */
        .fish-game {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .fish-pond {
            width: 300px;
            height: 200px;
            background: linear-gradient(180deg, #1e3a8a 0%, #38bdf8 100%);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            border: 3px solid #38bdf8;
        }

        .fish {
            position: absolute;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s;
            user-select: none;
        }

        .fish:hover {
            transform: scale(1.1);
        }

        .fish-score {
            font-size: 1.5rem;
            color: #f472b6;
            font-weight: bold;
        }

        .game-btn {
            background: linear-gradient(135deg, #f472b6 0%, #ec4899 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            margin: 8px;
            transition: 0.3s;
            font-size: 0.9rem;
        }

        .game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(244, 114, 182, 0.4);
        }

        /* Mini Game 2: Type Challenge */
        .type-game {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .type-text {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid #38bdf8;
            min-height: 100px;
            width: 100%;
            font-size: 1rem;
            line-height: 1.6;
            color: #f8fafc;
        }

        .type-input {
            width: 100%;
            padding: 12px;
            border-radius: 15px;
            border: 2px solid #38bdf8;
            background: rgba(30, 41, 59, 0.8);
            color: white;
            font-size: 0.95rem;
            font-family: 'Quicksand', sans-serif;
            resize: none;
        }

        .type-stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            color: #38bdf8;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Mini Game 3: Memory Cards */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin: 20px 0;
            justify-content: center;
        }

        .memory-card {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.3rem;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
            background: #f472b6;
        }

        .memory-card.matched {
            background: #10b981;
            cursor: default;
        }

        /* Mini Game 4: TAMAGOTCHI (Perempuan) */
        .tamagotchi-game {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .tamagotchi-screen {
            width: 220px;
            height: 220px;
            border: 3px solid #f472b6;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
            background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
        }

        .tamagotchi-pet {
            font-size: 5rem;
            transition: all 0.5s;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 10px rgba(244, 114, 182, 0.5));
        }

        .tamagotchi-message {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            text-align: center;
            color: #f472b6;
            font-size: 0.8rem;
            font-weight: 600;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px;
            border-radius: 10px;
        }

        .tamagotchi-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            width: 100%;
            margin-bottom: 15px;
        }

        .tamagotchi-stat {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #f472b6;
            padding: 8px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.8rem;
        }

        .tamagotchi-bar {
            height: 8px;
            background: #33001a;
            margin-top: 5px;
            border-radius: 4px;
            overflow: hidden;
        }

        .tamagotchi-fill {
            height: 100%;
            background: #f472b6;
            width: 100%;
            transition: width 0.5s;
            border-radius: 4px;
        }

        .tamagotchi-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            width: 100%;
        }

        .tamagotchi-btn {
            background: rgba(244, 114, 182, 0.2);
            color: #f472b6;
            border: 1px solid #f472b6;
            padding: 8px 5px;
            border-radius: 10px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
        }

        .tamagotchi-btn:hover {
            background: rgba(244, 114, 182, 0.4);
            transform: translateY(-2px);
        }

        .tamagotchi-info {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 10px;
            color: #94a3b8;
            font-size: 0.8rem;
        }

        /* Mini Game 5: VIRTUAL DOLL (Boneka Virtual) */
        .doll-game {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .doll-screen {
            width: 250px;
            height: 250px;
            border: 3px solid #818cf8;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
            background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
            cursor: pointer;
        }

        .doll-character {
            font-size: 8rem;
            transition: all 0.3s;
            user-select: none;
            filter: drop-shadow(0 0 15px rgba(129, 140, 248, 0.5));
        }

        .doll-character:hover {
            transform: scale(1.05);
        }

        .doll-message {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            text-align: center;
            color: #818cf8;
            font-size: 0.9rem;
            font-weight: 600;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px;
            border-radius: 10px;
        }

        .doll-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            width: 100%;
            margin-bottom: 15px;
        }

        .doll-stat {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #818cf8;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
        }

        .doll-stat-value {
            font-size: 1.2rem;
            color: #818cf8;
            font-weight: bold;
            margin-top: 5px;
        }

        .doll-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }

        .doll-btn {
            background: rgba(129, 140, 248, 0.2);
            color: #818cf8;
            border: 1px solid #818cf8;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            min-width: 120px;
            justify-content: center;
        }

        .doll-btn:hover {
            background: rgba(129, 140, 248, 0.4);
            transform: translateY(-2px);
        }

        .doll-interactions {
            margin-top: 15px;
            color: #cbd5e1;
            font-size: 0.8rem;
            text-align: center;
        }

        /* Secret Button */
        .secret-game-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(244, 114, 182, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 5px 20px rgba(244, 114, 182, 0.5);
            transition: 0.3s;
        }

        .secret-game-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(244, 114, 182, 0.7);
        }

        .footer-note {
            margin-top: 30px;
            color: #94a3b8;
            font-size: 0.9rem;
            border-top: 1px solid #38bdf8;
            padding-top: 20px;
        }

        @media (max-width: 480px) {
            h2 { font-size: 1.5em; }
            p { font-size: 1em; }
            .btn-nav { padding: 12px 25px; font-size: 1em; }
            .story-box { padding: 15px; }
            .fish-pond { width: 250px; height: 150px; }
            .memory-card { width: 55px; height: 55px; font-size: 1.1rem; }
            .game-tabs { gap: 5px; }
            .game-tab { padding: 6px 12px; font-size: 0.8rem; }
            .tamagotchi-screen, .doll-screen { width: 200px; height: 200px; }
            .tamagotchi-pet { font-size: 4rem; }
            .doll-character { font-size: 6rem; }
            .game-box { padding: 15px; }
            .doll-btn { min-width: 100px; padding: 8px 12px; }
        }
    </style>
</head>
<body>

    <div id="overlay">
        <h2 style="color: #38bdf8; margin-bottom: 30px;">Halo Zah! üëë</h2>
        <p style="text-align: center; max-width: 500px; margin-bottom: 30px;">
            Ada cerita panjang nih buat lu...<br>
            Plus ada game kecil-kecilan biar ga bosen bacanya wkwk! üéÆ
        </p>
        <button onclick="startApp()" class="btn-nav">BACA CERITA & MAIN GAME! üëë</button>
    </div>

    <audio id="myAudio" loop><source src="musik.mp3" type="audio/mpeg"></audio>

    <!-- Secret Game Button -->
    <button class="secret-game-btn" onclick="openGame()" title="Main Game Kalo Bosen Bacanya">üéÆ</button>

    <!-- Game Container -->
    <div id="gameContainer">
        <div class="game-box">
            <div class="game-title">MINI GAMES BIAR LU GA GABUT ZAH! üéÆ</div>
            
            <div class="game-tabs">
                <button class="game-tab active" onclick="switchGame(1)">üé£ CATCH FISH</button>
                <button class="game-tab" onclick="switchGame(2)">‚å®Ô∏è TYPE CHALLENGE</button>
                <button class="game-tab" onclick="switchGame(3)">üß† MEMORY CARD</button>
                <button class="game-tab" onclick="switchGame(4)">üå∏ TAMAGOTCHI</button>
                <button class="game-tab" onclick="switchGame(5)">üß∏ VIRTUAL DOLL</button>
            </div>
            
            <!-- Game 1: Catch Fish -->
            <div id="game1" class="game-content">
                <div class="fish-game">
                    <div class="fish-pond" id="fishPond"></div>
                    <div class="fish-score">Score: <span id="fishScore">0</span></div>
                    <div>Klik ikan yang muncul! Semakin cepat, semakin banyak poin!</div>
                    <div>
                        <button class="game-btn" onclick="startFishGame()">START</button>
                        <button class="game-btn" onclick="resetFishGame()">RESET</button>
                    </div>
                    <div style="color: #94a3b8; font-size: 0.9rem; margin-top: 10px;">
                        High Score: <span id="fishHighScore">0</span>
                    </div>
                </div>
            </div>
            
            <!-- Game 2: Type Challenge -->
            <div id="game2" class="game-content" style="display: none;">
                <div class="type-game">
                    <div class="type-text" id="typeText">
                        Loading challenge...
                    </div>
                    <textarea class="type-input" id="typeInput" rows="4" 
                        placeholder="Ketik ulang teks di atas dengan cepat..."></textarea>
                    <div class="type-stats">
                        <div>Waktu: <span id="typeTime">0</span>s</div>
                        <div>Accuracy: <span id="typeAccuracy">100</span>%</div>
                        <div>Kata: <span id="typeWords">0</span></div>
                    </div>
                    <div>
                        <button class="game-btn" onclick="startTypeGame()">START</button>
                        <button class="game-btn" onclick="resetTypeGame()">RESET TEXT</button>
                    </div>
                </div>
            </div>
            
            <!-- Game 3: Memory Card -->
            <div id="game3" class="game-content" style="display: none;">
                <div class="type-game">
                    <div style="margin-bottom: 15px; color: #f472b6; font-weight: bold;">
                        Temukan pasangan yang sama! üé£
                    </div>
                    <div class="memory-game" id="memoryGrid"></div>
                    <div style="margin: 15px 0; color: #38bdf8; font-weight: bold;">
                        Moves: <span id="memoryMoves">0</span> | Matches: <span id="memoryMatches">0</span>/8
                    </div>
                    <div>
                        <button class="game-btn" onclick="startMemoryGame()">START</button>
                        <button class="game-btn" onclick="resetMemoryGame()">RESET</button>
                    </div>
                </div>
            </div>
            
            <!-- Game 4: Tamagotchi (Perempuan) -->
            <div id="game4" class="game-content" style="display: none;">
                <div class="tamagotchi-game">
                    <div class="tamagotchi-screen">
                        <div class="tamagotchi-pet" id="tamagotchiPet">üå∏</div>
                        <div class="tamagotchi-message" id="tamagotchiMessage">Halo Zah!</div>
                    </div>
                    
                    <div class="tamagotchi-stats">
                        <div class="tamagotchi-stat">
                            <div>MAKAN</div>
                            <div class="tamagotchi-bar">
                                <div class="tamagotchi-fill" id="hungerBar" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tamagotchi-stat">
                            <div>BAHAGIA</div>
                            <div class="tamagotchi-bar">
                                <div class="tamagotchi-fill" id="happinessBar" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tamagotchi-stat">
                            <div>ENERGI</div>
                            <div class="tamagotchi-bar">
                                <div class="tamagotchi-fill" id="energyBar" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div class="tamagotchi-stat">
                            <div>KESEHATAN</div>
                            <div class="tamagotchi-bar">
                                <div class="tamagotchi-fill" id="healthBar" style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tamagotchi-controls">
                        <button class="tamagotchi-btn" onclick="tamagotchiAction('feed')">
                            <span>üç∞</span>
                            <span>MAKAN</span>
                        </button>
                        <button class="tamagotchi-btn" onclick="tamagotchiAction('play')">
                            <span>üéÆ</span>
                            <span>MAIN</span>
                        </button>
                        <button class="tamagotchi-btn" onclick="tamagotchiAction('sleep')">
                            <span>üí§</span>
                            <span>TIDUR</span>
                        </button>
                        <button class="tamagotchi-btn" onclick="tamagotchiAction('clean')">
                            <span>üõÅ</span>
                            <span>MANDI</span>
                        </button>
                        <button class="tamagotchi-btn" onclick="tamagotchiAction('medicine')">
                            <span>üíñ</span>
                            <span>OBAT</span>
                        </button>
                        <button class="tamagotchi-btn" onclick="tamagotchiAction('dress')">
                            <span>üëó</span>
                            <span>PAKAIAN</span>
                        </button>
                    </div>
                    
                    <div class="tamagotchi-info">
                        <div>Usia: <span id="tamagotchiAge">0</span> hari</div>
                        <div>Tahap: <span id="tamagotchiStage">BAYI</span></div>
                        <div>Poin: <span id="tamagotchiPoints">0</span></div>
                    </div>
                    
                    <div>
                        <button class="game-btn" onclick="resetTamagotchi()" style="background: linear-gradient(135deg, #f472b6 0%, #db2777 100%);">
                            RESET TAMAGOTCHI
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Game 5: Virtual Doll (Boneka Virtual) -->
            <div id="game5" class="game-content" style="display: none;">
                <div class="doll-game">
                    <div class="doll-screen" id="dollScreen" onclick="hugDoll()">
                        <div class="doll-character" id="dollCharacter">üß∏</div>
                        <div class="doll-message" id="dollMessage">Klik aku untuk dipeluk! ü•∞</div>
                    </div>
                    
                    <div class="doll-stats">
                        <div class="doll-stat">
                            <div>PELUKAN</div>
                            <div class="doll-stat-value" id="hugCount">0</div>
                        </div>
                        <div class="doll-stat">
                            <div>KASIH SAYANG</div>
                            <div class="doll-stat-value" id="loveLevel">100%</div>
                        </div>
                        <div class="doll-stat">
                            <div>MOOD</div>
                            <div class="doll-stat-value" id="dollMood">üòä</div>
                        </div>
                    </div>
                    
                    <div class="doll-controls">
                        <button class="doll-btn" onclick="playWithDoll()">
                            <span>üéÆ</span> MAIN BERSAMA
                        </button>
                        <button class="doll-btn" onclick="feedDoll()">
                            <span>üç™</span> KASIH MAKAN
                        </button>
                        <button class="doll-btn" onclick="singToDoll()">
                            <span>üéµ</span> NYANYI LAGU
                        </button>
                        <button class="doll-btn" onclick="changeDollClothes()">
                            <span>üëï</span> GANTI BAJU
                        </button>
                        <button class="doll-btn" onclick="danceWithDoll()">
                            <span>üíÉ</span> AYO MENARI
                        </button>
                        <button class="doll-btn" onclick="tellStoryToDoll()">
                            <span>üìñ</span> CERITA DONGENG
                        </button>
                    </div>
                    
                    <div class="doll-interactions">
                        <div>Interaksi: <span id="interactionCount">0</span> kali</div>
                        <div>Waktu bersama: <span id="timeTogether">0</span> menit</div>
                    </div>
                    
                    <div>
                        <button class="game-btn" onclick="resetDoll()" style="background: linear-gradient(135deg, #818cf8 0%, #4f46e5 100%);">
                            RESET BONEKA
                        </button>
                    </div>
                </div>
            </div>
            
            <button class="game-btn" onclick="closeGame()" 
                style="background: linear-gradient(135deg, #38bdf8 0%, #1e3a8a 100%); margin-top: 20px;">
                KEMBALI KE CERITA üìñ
            </button>
        </div>
    </div>

    <div class="container">
        
        <!-- SECTIONS YANG SAMA PERSIS DARI SEBELUMNYA -->
        <div class="section active" id="s1">
            <h2>Korban Ujan üåßÔ∏è</h2>
            <div class="story-box">
                <p>Zah, lu tau nggak? Gua beneran lagi <b>hopeless</b> liat laptop gua. Laptop saksi bisu gua skripsian sampe lulus, revisi dosen, sampe mabar bareng lu...</p>
                <p>Sekarang dia <b>GUGUR</b> dengan tidak estetik. Padahal dipake AFK berjam-jam nemenin lu mah dia aman aja Zah. Eh, tau-taunya malah cedera parah kecipratan air ujan dari jendela kamar gua pas lagi asik nungguin lu.</p>
                <p class="highlight">"Masa iya gua mau nyalahin ujan? Ya kali gua mau marahin ujan wkwk! Tapi ya sudahlah, nemenin lu AFK mah laptop meledak sekalipun gua jabanin! üóø"</p>
            </div>
            <button class="btn-nav" onclick="nextSlide(2)">Lanjut Zah.. ‚ûî</button>
        </div>

        <div class="section" id="s2">
            <h2>Ruby Gemstone vs Ruby KW üíé</h2>
            <p>Gua pikir lu hanyut di Tropical Grove sampe gua panik bikin script sepanjang ini gara-gara notif roblox gua mati apa hp gua yang udah minta gantiüóø. Padahal lu lagi ambisi cari <b>Lochness</b> ya?</p>
            <p>Gua dapet <b>Ruby</b> sih, tapi ya Ruby KW bukan <b>Ruby Gemstone</b> yang lu cari. Maafin hoki gua yang setengah mateng ini Zah.</p>
            <p class="highlight">"Lu sibuk cari Lochness, gua sibuk bikin kodingan biar kerja makin mudah dan ada waktu buat mabar itu juga kalo lu mauüóø. Lu dapet ikan sc, gua ikan sc kaga dapet main ml mvp tapi kalah terus! üóø"</p>
            <button class="btn-nav" onclick="nextSlide(3)">lanjut lagi.. ‚ûî</button>
        </div>

        <div class="section" id="s3">
            <div class="story-box" style="border-color: #818cf8;">
                <h2>Ratu Notif & Pangeran Sabar üëë</h2>
                <p>Gua bales pake script mulu ke lu di DM IG, apalagi kalo di WA lu gua Ratuin kali Zah wkwk,nomor gua juga pasti lu apal karna script gua selalu kasih nomor wkwk.</p>
                <p>Tapi emang agak susah ya dapetin notif WA dari lu, tapi gua ga hopeless kaya lu Zah wkwkw. Nyindir dikit nggak apa-apa lah ya, nyindir tapi sebenernya beneran tulus!</p>
                <p class="highlight">"HP gua emang udah minta pensiun dengan cara halus gara-gara notif ga masuk bajingan, tapi gua nggak bakal pernah pensiun buat nungguin lu! üóø"</p>
            </div>
            <button class="btn-nav" onclick="nextSlide(4)">Lanjut terus.. ‚ûî</button>
        </div>

        <div class="section" id="s4">
            <h2>Majikan Tragis, Kucing pun Teler üêà‚Äç‚¨õ</h2>
            <img src="kucing.jpg" alt="Kucing Teler">
            <div class="story-box" style="border-color: #fcd34d;">
                <p>Zah, lu liat kucing gua ini namanya ciko... Dia aja sampe teler dan pasrah liat majikannya seharian begadang cuma buat beringin script dan nungguin notif dari lu. üóø</p>
                <p class="highlight">"Saking panjang dan penuh dramanya kodingan ini, kucing gua pun ikut 'hopeless' liat perjuangan gua. Maaf ya Zah, semoga lu nggak ketiduran juga pas baca ini kayak kucing gua wkwk!"</p>
            </div>
            <button class="btn-nav" onclick="nextSlide(5)">The Legend.. ‚ûî</button>
        </div>

        <div class="section" id="s5">
            <h2>The Legendary 2016 üå∏</h2>
            <img src="2016.jpg" alt="Zahyang 2016">
             <p>Gua liat story ini... Gila Zah, zaman sekolah lu santai banget ya muka dan gaya fotonya. Wibu tercantik angkatan 2016 emang damage-nya permanen!</p>
            <p>Gua harap lu tetep bisa senyum kayak di foto ini, walaupun hidup sekarang udah nggak sesantai dulu suka sering bengong kalo liat air hujan dulu mah asik ujan-ujanan sekarang mah bikin sakit.</p>
            <button class="btn-nav" onclick="nextSlide(6)">lanjut masih ada lagi.. ‚ûî</button>
        </div>

        <div class="section" id="s6">
            <h2>Track Record Awal üí¨</h2>
            <img src="Dm.jpg" alt="DM IG Kenangan">
            <p>Inget nggak awal dm,ga awal dm juga sih ini akun baru yang akun satunya ada yang ga seneng sama gua wkwk,dulu kita asik sekarang juga maasih asik sih cuma hp gua yang ga asik wkwk,Gua simpen semua lho. Gua nggak mau kenangan ini 'hanyut' kayak laptop skripsi gua wkwk. Lu itu notifikasi favorit gua tiap hari Zah.</p>
            <button class="btn-nav" onclick="nextSlide(7)">Nasib Akai.. ‚ûî</button>
        </div>

        <div class="section" id="s7">
            <div class="story-box" style="border-color: #ef4444;">
                <h2>Nasib Akai di Tangan Legend ‚öîÔ∏è</h2>
                <p>Gua comeback ML liat username keinara bjirr udah legend, demi bisa nyusul pangkat lu yang udah <b>Legend</b> cepet bener bjirr. mana gua role tank udah nebein tetep aja random kaga niat main alhasil bolak balik <b>GM</b> sedihlah kalo di ceritain.</p>
                <p class="lose-streak">"Dapet Gold MVP sih sering, tapi LOSE STREAK-nya lebih sering lagi! Kalah terus karena nggak ada lu yang nemenin gua tabrak-tabrak musuh. Emosi gua udah ngalahin beban hidup! üóø"</p>
            </div>
            <button class="btn-nav" onclick="nextSlide(8)">Jimat Hoki.. ‚ûî</button>
        </div>

        <div class="section" id="s8">
            <h2>Jimat Hoki Ares Rod üé£</h2>
            <img src="Party.jpg" alt="Chat Party">
            <img src="Mabar.jpg" alt="Mabar Moment">
            <p>Inget chat ini ga? pas lu chat bilang mau kasih ikan mitos gua kira becanda taunya beneran lagi,terus inget momen ini ga wkwk lu loncat loncat gabisa ngimbangin dah,gua cupu di ajarin suhu mana di kasih tumpangin kapal lagi di ajarin, sampe kebeli Ares Rod gua yang kata lu astral bau :v Sekarang Ares gua udah gacor, ngekos 2 hari di lost isle udah lulus misi ghostfin, tinggal misi element ada lagi msi diamond makin ga ke kejar karna yang jadi suhunya malah ngilang cari Lochness wkwk.</p>
            <button class="btn-nav" onclick="nextSlide(9)">Dikit lagi.. ‚ûî</button>
        </div>

        <div class="section" id="s9">
            <div class="story-box">
                <h2>Misi Penebusan Janji dari hati gua yang paling dalam üéÅ</h2>
                <p>Gua sadar, gua udah banyak janji ke lu tapi eksekusinya agak 'becanda'. Inget script ultah kemarin? Kuenya cuma <b>GIF</b> doang. Terus janji boneka, eh malah lu-nya nggak suka atau belum siap nerima barang dari gua?</p>
                <p class="highlight">"Bukannya gua boros ya Zah, tapi ada rezeki aja dari project kodingan gua kemarin. Jadi gua kepikiran buat kasih lu <b>Skin Rod Black Hole</b> atau <b>Bunga Abadi</b>-nya biar kita <b>SAMAAN</b> pas mancing nanti!"</p>
                <p>Lu kalo mau bikin kodingan biar kerja lu makin mudah biar bisa mabar gua jabanin Zah! Apa sih yang enggak buat Queen gua mah! üóø</p>
                <p class="highlight">"Maafin abang-abangan lu yang rada kurang peka ini Zah. Gua nggak mau janji gua cuma jadi 'revisi' yang nggak kelar-kelar kayak skripsi gua dulu."</p>
            </div>
            <button class="btn-nav" onclick="nextSlide(10)">Penting Zah.. ‚ûî</button>
        </div>

        <div class="section" id="s10">
            <h2>Protokol Kesehatan Anti-Ghosting ‚õàÔ∏è</h2>
            <div class="story-box" style="border-color: #10b981;">
                <p>Zah, ujan sekarang lagi nggak ada akhlak. Lu liat sendiri kan, laptop saksi bisu skripsi gua aja sampe tewas cuma gara-gara kecipratan doang? Gua nggak mau lu juga ikut-ikutan <b>tumbang</b> gara-gara nekat nerjang ujan.</p>
                <p>Tolong ya, jangan sok jagoan nerjang badai cuma demi beli seblak. Kalau lu sakit, yang pusing bukan cuma dokter, tapi gua juga bakal kena <b>mental damage</b> karena nggak ada lagi 'notifikasi' paling gua tunggu tiap hari.</p>
                <p class="highlight">"Cukup laptop gua aja yang bikin gua hopeless, lu zah jangan sampe drop! Kalau ngerasa sedih, lagi mendung hatinya, atau butuh sandaran, cerita aja ke gua. Gua emang bukan ikan sc Lochness yang lu cari, tapi gua adalah 'Abang-abangan 24 Jam' yang siap dengerin curhatan lu sampe lu senyum lagi wkwk! üóø"</p>
                <p>Inget ya Queen: <b>Minum vitamin, pake jaket, dan jangan lupa kabarin gua.</b> Biar gua tau kalau 'Jimat Hoki' gua ini tetep sehat walafiat buat mabar nanti!</p>
            </div>
            <button class="btn-nav" onclick="nextSlide(11)">Selesai jaga kesehatan selalu ya zah.. ‚ûî</button>
        </div>

        <div class="section" id="s11">
            <h2>Hutang Lunas, Mabar Gas! ‚úÖ</h2>
            <p>Zah, gua mau pesen bukan ngajarin ya ikutin aja kemauan lu, nikmatin hidup. Masalah jangan disimpen sendiri wkwk, ada gua abang-abangan lu yang siap 24 jam buat dengerin lu.</p>
            <p class="highlight">Gua tunggu di private server ya. Jangan kelamaan keburu ngilang dah rod yang mau lu beli tapi pake mikir ava lu aja gonta ganti wkwk, nanti ava talon Kikir gua hanyut beneran nyariin lu!</p>
            
            <div class="code-msg">
                ("Zah, nitip balesnya pake kodingan juga ya zah üóø");<br>
            </div>

            <button onclick="startMabar()" class="btn-nav">KLAIM HADIAH & SAMAAN SAMA GUA! üé£</button>
            <div class="footer-note">Repository: semoga-lu-suka <br> ‚Äî TTD, Abang-abangan 24 Jam Lu wkwk.</div>
        </div>

    </div>

    <script>
        let currentSlide = 1;
        let gameActive = false;
        let currentGame = 1;

        // ========== GAME VARIABLES ==========
        // Fish Game
        let fishScore = 0;
        let fishHighScore = localStorage.getItem('fishHighScore') || 0;
        let fishInterval;
        
        // Type Game
        let typeStartTime = 0;
        let typeTimer = null;
        let typeActive = false;
        let currentTypeTextIndex = 0;
        
        // Memory Game
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let memoryMoves = 0;
        
        // Tamagotchi Game (Perempuan)
        let tamagotchi = {
            hunger: 100,
            happiness: 100,
            energy: 100,
            health: 100,
            age: 0,
            stage: 'BAYI',
            points: 0,
            lastUpdate: Date.now(),
            isSleeping: false,
            isSick: false,
            clothes: 'default'
        };
        let tamagotchiInterval;
        
        const tamagotchiStages = {
            BAYI: { emoji: 'üå∏', next: 50 },
            ANAK: { emoji: 'üëß', next: 150 },
            REMAJA: { emoji: 'üë©‚Äçüéì', next: 300 },
            DEWASA: { emoji: 'üë©', next: null }
        };
        
        // Virtual Doll Game
        let virtualDoll = {
            hugCount: 0,
            loveLevel: 100,
            mood: 'happy',
            clothes: 'default',
            interactionCount: 0,
            startTime: Date.now(),
            isDancing: false,
            isSinging: false
        };
        let dollMoods = ['üòä', 'ü•∞', 'üòÑ', 'ü§ó', 'üòç', 'üòá', 'ü§©'];
        let dollClothes = ['üß∏', 'üêª', 'üê∞', 'üê±', 'ü¶ä', 'üê∂', 'üê®'];
        let currentClothesIndex = 0;
        let dollInterval;

        // ========== TYPE CHALLENGE TEXTS ==========
        const typeChallengeTexts = [
            "Zah, gua suka banget liat lu senyum. Semoga lu selalu happy ya! üé£üíñ",
            "Gua janji bakal selalu nemenin lu main game, kapanpun lu mau! üéÆ",
            "Mancing bareng lu itu moment paling seru buat gua! üêü‚ú®",
            "Jangan pernah berubah ya Zah, lu perfect kayak sekarang! üëë",
            "Gua tunggu terus notif dari lu, itu yang bikin hari gua cerah! üå∏",
            "Lu tuh kayak harta karun buat gua, lebih berharga dari Ruby Gemstone! üíé",
            "Kalo lagi ujan inget ya, jangan keluar! Gua nggak mau lu sakit! ‚õàÔ∏è",
            "Abang-abangan lu ini siap 24 jam buat dengerin curhatan lu! üïõ",
            "Mabar ML kapan lagi? Gua udah siap tank buat lu! ‚öîÔ∏è",
            "Skripsi laptop gua udah gugur, tapi cinta gua ke lu tetep hidup! üíª‚ù§Ô∏è",
            "Jangan pernah hopeless ya Zah, gua selalu ada buat lu! üåà",
            "Lu itu queen gua, dan gua akan selalu jadi abang-abangan terbaik! üëë",
            "Kucing gua aja teler liat gua nungguin lu, apalagi gua! üê±",
            "2016 sampai sekarang, senyum lu tetep yang paling cantik! üì∏",
            "Gua simpen semua chat kita, karena setiap kata dari lu berharga! üí¨",
            "Ares Rod gua udah gacor nih, tinggal nunggu lu aja! üé£",
            "Skin Black Hole atau Bunga Abadi? Mau yang mana? üéÅ",
            "Jaga kesehatan selalu ya Zah, vitamin jangan lupa! üíä",
            "Private server Roblox kita nunggu banget nih! üéÆ",
            "Gua nggak akan pernah ghosting lu, promise! üëª‚ùå"
        ];

        // ========== MAIN FUNCTIONS ==========
        function startApp() {
            document.getElementById('overlay').style.display = 'none';
            document.body.style.overflow = "auto";
            try { 
                const audio = document.getElementById('myAudio');
                audio.play().catch(e => console.log("Audio autoplay blocked:", e));
            } catch(e) {
                console.log("Audio error:", e);
            }
            createDecor();
            
            // Initialize games
            updateFishDisplay();
            getRandomTypeText();
            loadTamagotchi();
            startTamagotchiTimer();
            loadVirtualDoll();
            startDollTimer();
        }

        function nextSlide(n) {
            document.getElementById('s' + currentSlide).classList.remove('active');
            const next = document.getElementById('s' + n);
            if(next) {
                next.classList.add('active');
                currentSlide = n;
                window.scrollTo(0,0);
            }
        }

        function createDecor() {
            const icons = ['üå∏', 'üé£', 'üêü', '‚ú®', 'ü¶à', 'üß∏', 'üíñ'];
            for (let i = 0; i < 20; i++) {
                let span = document.createElement('span');
                span.innerText = icons[Math.floor(Math.random() * icons.length)];
                span.className = 'decor';
                span.style.left = Math.random() * 100 + 'vw';
                span.style.top = Math.random() * 100 + 'vh';
                span.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(span);
            }
        }

        function startMabar() {
            alert("Misi Penebusan Janji Selesai! ‚úÖ\nStatus: Queen Ditemukan.");
            window.location.href = "https://www.roblox.com/share?code=f0f4bcb80ae4e84b8f1fda58ffd0123d&type=Server";
        }

        // ========== GAME FUNCTIONS ==========
        function openGame() {
            document.getElementById('gameContainer').style.display = 'flex';
            gameActive = true;
            document.body.style.overflow = "hidden";
        }

        function closeGame() {
            document.getElementById('gameContainer').style.display = 'none';
            gameActive = false;
            document.body.style.overflow = "auto";
        }

        function switchGame(gameNumber) {
            currentGame = gameNumber;
            
            // Update tabs
            document.querySelectorAll('.game-tab').forEach((tab, index) => {
                if (index + 1 === gameNumber) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            // Update game content
            document.querySelectorAll('.game-content').forEach((content, index) => {
                if (index + 1 === gameNumber) {
                    content.style.display = 'block';
                } else {
                    content.style.display = 'none';
                }
            });
            
            // Initialize the selected game
            if (gameNumber === 1) {
                startFishGame();
            } else if (gameNumber === 2) {
                getRandomTypeText();
                resetTypeGame();
            } else if (gameNumber === 3) {
                startMemoryGame();
            } else if (gameNumber === 4) {
                updateTamagotchiDisplay();
            } else if (gameNumber === 5) {
                updateDollDisplay();
            }
        }

        // ========== FISH GAME ==========
        function startFishGame() {
            clearInterval(fishInterval);
            document.getElementById('fishPond').innerHTML = '';
            fishScore = 0;
            updateFishDisplay();
            
            fishInterval = setInterval(() => {
                spawnFish();
            }, 1000);
        }

        function spawnFish() {
            const pond = document.getElementById('fishPond');
            const fishEmojis = ['üêü', 'üê†', 'üê°', 'ü¶à', 'üêô', 'ü¶ë', 'üé£'];
            const fish = document.createElement('div');
            
            const emoji = fishEmojis[Math.floor(Math.random() * fishEmojis.length)];
            fish.innerText = emoji;
            fish.className = 'fish';
            
            const size = Math.random() * 40 + 30;
            fish.style.fontSize = size + 'px';
            
            const x = Math.random() * (300 - size);
            const y = Math.random() * (200 - size);
            fish.style.left = x + 'px';
            fish.style.top = y + 'px';
            
            // Points based on fish type
            let points = 10;
            if (emoji === 'ü¶à') points = 30;
            if (emoji === 'üé£') points = 50;
            
            fish.onclick = function() {
                fishScore += points;
                updateFishDisplay();
                
                // Animation
                fish.style.transform = 'scale(1.5) rotate(20deg)';
                fish.style.opacity = '0';
                
                setTimeout(() => {
                    if (fish.parentNode) {
                        fish.parentNode.removeChild(fish);
                    }
                }, 300);
                
                // Update high score
                if (fishScore > fishHighScore) {
                    fishHighScore = fishScore;
                    localStorage.setItem('fishHighScore', fishHighScore);
                    document.getElementById('fishHighScore').textContent = fishHighScore;
                }
            };
            
            pond.appendChild(fish);
            
            // Remove fish after 3 seconds
            setTimeout(() => {
                if (fish.parentNode) {
                    fish.style.opacity = '0';
                    setTimeout(() => {
                        if (fish.parentNode) {
                            fish.parentNode.removeChild(fish);
                        }
                    }, 500);
                }
            }, 3000);
        }

        function resetFishGame() {
            clearInterval(fishInterval);
            fishScore = 0;
            updateFishDisplay();
            document.getElementById('fishPond').innerHTML = '';
        }

        function updateFishDisplay() {
            document.getElementById('fishScore').textContent = fishScore;
            document.getElementById('fishHighScore').textContent = fishHighScore;
        }

        // ========== TYPE GAME ==========
        function getRandomTypeText() {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * typeChallengeTexts.length);
            } while (newIndex === currentTypeTextIndex && typeChallengeTexts.length > 1);
            
            currentTypeTextIndex = newIndex;
            document.getElementById('typeText').textContent = typeChallengeTexts[currentTypeTextIndex];
            
            return typeChallengeTexts[currentTypeTextIndex];
        }

        function startTypeGame() {
            if (typeActive) return;
            
            typeActive = true;
            typeStartTime = Date.now();
            document.getElementById('typeInput').value = '';
            document.getElementById('typeInput').focus();
            
            if (!document.getElementById('typeText').textContent.includes('...')) {
                getRandomTypeText();
            }
            
            clearInterval(typeTimer);
            typeTimer = setInterval(updateTypeStats, 100);
        }

        function updateTypeStats() {
            if (!typeActive) return;
            
            const timeElapsed = Math.floor((Date.now() - typeStartTime) / 1000);
            const prompt = document.getElementById('typeText').textContent;
            const input = document.getElementById('typeInput').value;
            
            const words = input.split(' ').filter(w => w.length > 0).length;
            
            let correctChars = 0;
            const minLength = Math.min(prompt.length, input.length);
            for (let i = 0; i < minLength; i++) {
                if (prompt[i] === input[i]) correctChars++;
            }
            const accuracy = minLength > 0 ? Math.round((correctChars / minLength) * 100) : 100;
            
            document.getElementById('typeTime').textContent = timeElapsed;
            document.getElementById('typeAccuracy').textContent = accuracy;
            document.getElementById('typeWords').textContent = words;
            
            if (input === prompt) {
                typeActive = false;
                clearInterval(typeTimer);
                
                const minutes = timeElapsed / 60;
                const wpm = minutes > 0 ? Math.round(words / minutes) : words * 60;
                
                let emoji = 'üòä';
                let message = 'Good job!';
                
                if (wpm > 60) {
                    emoji = 'üöÄ';
                    message = 'Super fast!';
                } else if (wpm > 40) {
                    emoji = 'üëç';
                    message = 'Nice speed!';
                } else if (wpm < 20) {
                    emoji = 'üê¢';
                    message = 'Take your time!';
                }
                
                alert(`${emoji} ${message}\nWaktu: ${timeElapsed}s\nAccuracy: ${accuracy}%\nSpeed: ${wpm} WPM`);
                
                setTimeout(() => {
                    getRandomTypeText();
                    resetTypeGame();
                }, 1000);
            }
        }

        function resetTypeGame() {
            typeActive = false;
            clearInterval(typeTimer);
            document.getElementById('typeInput').value = '';
            document.getElementById('typeTime').textContent = '0';
            document.getElementById('typeAccuracy').textContent = '100';
            document.getElementById('typeWords').textContent = '0';
            
            getRandomTypeText();
        }

        // ========== MEMORY GAME ==========
        function startMemoryGame() {
            const emojiPairs = ['üé£', 'üêü', 'üê†', 'ü¶à', 'üå∏', '‚ú®', 'üéÆ', 'üëë'];
            let cards = [...emojiPairs, ...emojiPairs];
            
            cards.sort(() => Math.random() - 0.5);
            
            memoryCards = cards;
            flippedCards = [];
            matchedPairs = 0;
            memoryMoves = 0;
            
            const grid = document.getElementById('memoryGrid');
            grid.innerHTML = '';
            
            cards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = index;
                card.dataset.emoji = emoji;
                
                card.innerHTML = `<span style="opacity:0">${emoji}</span>`;
                
                card.onclick = () => flipCard(card);
                grid.appendChild(card);
            });
            
            updateMemoryDisplay();
        }

        function flipCard(card) {
            if (flippedCards.length >= 2 || 
                card.classList.contains('flipped') || 
                card.classList.contains('matched')) {
                return;
            }
            
            card.classList.add('flipped');
            card.innerHTML = card.dataset.emoji;
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                memoryMoves++;
                updateMemoryDisplay();
                
                const card1 = flippedCards[0];
                const card2 = flippedCards[1];
                
                if (card1.dataset.emoji === card2.dataset.emoji) {
                    setTimeout(() => {
                        card1.classList.add('matched');
                        card2.classList.add('matched');
                        card1.classList.remove('flipped');
                        card2.classList.remove('flipped');
                        flippedCards = [];
                        matchedPairs++;
                        updateMemoryDisplay();
                        
                        if (matchedPairs === 8) {
                            setTimeout(() => {
                                let stars = '‚≠ê‚≠ê‚≠ê';
                                if (memoryMoves > 20) stars = '‚≠ê‚≠ê';
                                if (memoryMoves > 30) stars = '‚≠ê';
                                
                                alert(`üèÜ MENANG! ${stars}\nMoves: ${memoryMoves}\nPerfect memory!`);
                            }, 300);
                        }
                    }, 500);
                } else {
                    setTimeout(() => {
                        card1.classList.remove('flipped');
                        card2.classList.remove('flipped');
                        card1.innerHTML = `<span style="opacity:0">${card1.dataset.emoji}</span>`;
                        card2.innerHTML = `<span style="opacity:0">${card2.dataset.emoji}</span>`;
                        flippedCards = [];
                    }, 1000);
                }
            }
        }

        function resetMemoryGame() {
            startMemoryGame();
        }

        function updateMemoryDisplay() {
            const movesElement = document.getElementById('memoryMoves');
            const matchesElement = document.getElementById('memoryMatches');
            
            if (movesElement) movesElement.textContent = memoryMoves;
            if (matchesElement) matchesElement.textContent = matchedPairs;
        }

        // ========== TAMAGOTCHI GAME (PEREMPUAN) ==========
        function loadTamagotchi() {
            const saved = localStorage.getItem('tamagotchiZahGirl');
            if (saved) {
                try {
                    const savedData = JSON.parse(saved);
                    const daysOld = (Date.now() - savedData.lastUpdate) / (1000 * 60 * 60 * 24);
                    if (daysOld < 7) {
                        tamagotchi = savedData;
                        tamagotchi.lastUpdate = Date.now();
                    }
                } catch(e) {
                    console.log("Error loading tamagotchi:", e);
                }
            }
            updateTamagotchiDisplay();
        }

        function saveTamagotchi() {
            tamagotchi.lastUpdate = Date.now();
            localStorage.setItem('tamagotchiZahGirl', JSON.stringify(tamagotchi));
        }

        function startTamagotchiTimer() {
            clearInterval(tamagotchiInterval);
            tamagotchiInterval = setInterval(updateTamagotchiStats, 3000);
        }

        function updateTamagotchiStats() {
            const now = Date.now();
            const secondsPassed = (now - tamagotchi.lastUpdate) / 1000;
            
            if (secondsPassed < 1) return;
            
            tamagotchi.hunger = Math.max(0, tamagotchi.hunger - (0.5 * secondsPassed));
            tamagotchi.happiness = Math.max(0, tamagotchi.happiness - (0.3 * secondsPassed));
            
            if (!tamagotchi.isSleeping) {
                tamagotchi.energy = Math.max(0, tamagotchi.energy - (0.2 * secondsPassed));
            } else {
                tamagotchi.energy = Math.min(100, tamagotchi.energy + (1 * secondsPassed));
                if (tamagotchi.energy >= 100) {
                    tamagotchi.isSleeping = false;
                    showTamagotchiMessage("Bangun tidur segar! üí´");
                }
            }
            
            if (tamagotchi.hunger < 20 || tamagotchi.happiness < 20 || tamagotchi.energy < 20) {
                tamagotchi.health = Math.max(0, tamagotchi.health - (0.3 * secondsPassed));
                if (!tamagotchi.isSick && tamagotchi.health < 50) {
                    tamagotchi.isSick = true;
                    showTamagotchiMessage("Aku kurang sehat nih... ü§í");
                }
            } else if (tamagotchi.health < 100) {
                tamagotchi.health = Math.min(100, tamagotchi.health + (0.1 * secondsPassed));
            }
            
            tamagotchi.age += secondsPassed / 3600;
            
            checkTamagotchiEvolution();
            
            tamagotchi.lastUpdate = now;
            updateTamagotchiDisplay();
            saveTamagotchi();
        }

        function tamagotchiAction(action) {
            let message = "";
            
            switch(action) {
                case 'feed':
                    if (tamagotchi.hunger >= 100) {
                        showTamagotchiMessage("Aku kenyang banget! ü§∞");
                        return;
                    }
                    tamagotchi.hunger = Math.min(100, tamagotchi.hunger + 25);
                    tamagotchi.happiness = Math.min(100, tamagotchi.happiness + 10);
                    tamagotchi.points += 15;
                    message = "Makasih makannya! üç∞";
                    break;
                    
                case 'play':
                    if (tamagotchi.energy < 15) {
                        showTamagotchiMessage("Lelah nih, mau tidur dulu... üò¥");
                        return;
                    }
                    tamagotchi.happiness = Math.min(100, tamagotchi.happiness + 20);
                    tamagotchi.energy = Math.max(0, tamagotchi.energy - 15);
                    tamagotchi.points += 20;
                    message = "Asyik main bareng! üéÆ";
                    break;
                    
                case 'sleep':
                    tamagotchi.isSleeping = !tamagotchi.isSleeping;
                    message = tamagotchi.isSleeping ? "Zzzz... mimpi indah üò¥" : "Hai, aku udah bangun! üëã";
                    break;
                    
                case 'clean':
                    tamagotchi.happiness = Math.min(100, tamagotchi.happiness + 15);
                    tamagotchi.points += 10;
                    message = "Wangi dan bersih! üõÅ";
                    break;
                    
                case 'medicine':
                    if (!tamagotchi.isSick) {
                        showTamagotchiMessage("Aku sehat kok! üòä");
                        return;
                    }
                    tamagotchi.health = Math.min(100, tamagotchi.health + 40);
                    tamagotchi.isSick = false;
                    tamagotchi.points += 25;
                    message = "Sudah enakan, makasih! üíñ";
                    break;
                    
                case 'dress':
                    const clothes = ['default', 'dress', 'casual', 'party'];
                    const currentIndex = clothes.indexOf(tamagotchi.clothes);
                    const nextIndex = (currentIndex + 1) % clothes.length;
                    tamagotchi.clothes = clothes[nextIndex];
                    tamagotchi.happiness += 5;
                    message = "Baju baruku cantik ya! üëó";
                    break;
            }
            
            showTamagotchiMessage(message);
            updateTamagotchiDisplay();
            saveTamagotchi();
        }

        function checkTamagotchiEvolution() {
            const currentStage = tamagotchiStages[tamagotchi.stage];
            if (currentStage.next && tamagotchi.points >= currentStage.next) {
                const stages = Object.keys(tamagotchiStages);
                const currentIndex = stages.indexOf(tamagotchi.stage);
                if (currentIndex < stages.length - 1) {
                    tamagotchi.stage = stages[currentIndex + 1];
                    showTamagotchiMessage(`Aku tumbuh jadi ${tamagotchi.stage}! üéâ`);
                }
            }
        }

        function showTamagotchiMessage(message) {
            const msgElement = document.getElementById('tamagotchiMessage');
            msgElement.textContent = message;
            msgElement.style.opacity = 1;
            
            setTimeout(() => {
                msgElement.style.opacity = 0.7;
            }, 3000);
        }

        function updateTamagotchiDisplay() {
            document.getElementById('hungerBar').style.width = tamagotchi.hunger + '%';
            document.getElementById('happinessBar').style.width = tamagotchi.happiness + '%';
            document.getElementById('energyBar').style.width = tamagotchi.energy + '%';
            document.getElementById('healthBar').style.width = tamagotchi.health + '%';
            
            document.getElementById('tamagotchiAge').textContent = tamagotchi.age.toFixed(1);
            document.getElementById('tamagotchiStage').textContent = tamagotchi.stage;
            document.getElementById('tamagotchiPoints').textContent = Math.floor(tamagotchi.points);
            
            const pet = document.getElementById('tamagotchiPet');
            const stageData = tamagotchiStages[tamagotchi.stage];
            pet.textContent = stageData.emoji;
            
            if (tamagotchi.isSick) {
                pet.style.color = '#ff0000';
                pet.style.transform = 'scale(0.9)';
            } else if (tamagotchi.isSleeping) {
                pet.style.color = '#8888ff';
                pet.style.transform = 'scale(0.8)';
            } else if (tamagotchi.happiness > 80) {
                pet.style.color = '#ffff00';
                pet.style.transform = 'scale(1.1)';
            } else {
                pet.style.color = '#ffffff';
                pet.style.transform = 'scale(1)';
            }
            
            updateBarColor('hungerBar', tamagotchi.hunger);
            updateBarColor('happinessBar', tamagotchi.happiness);
            updateBarColor('energyBar', tamagotchi.energy);
            updateBarColor('healthBar', tamagotchi.health);
        }

        function updateBarColor(barId, value) {
            const bar = document.getElementById(barId);
            if (value > 70) {
                bar.style.background = '#f472b6';
            } else if (value > 30) {
                bar.style.background = '#fbbf24';
            } else {
                bar.style.background = '#ef4444';
            }
        }

        function resetTamagotchi() {
            if (confirm("Reset Tamagotchi? Semua progress akan hilang!")) {
                tamagotchi = {
                    hunger: 100,
                    happiness: 100,
                    energy: 100,
                    health: 100,
                    age: 0,
                    stage: 'BAYI',
                    points: 0,
                    lastUpdate: Date.now(),
                    isSleeping: false,
                    isSick: false,
                    clothes: 'default'
                };
                updateTamagotchiDisplay();
                saveTamagotchi();
                showTamagotchiMessage("Tamagotchi baru lahir! üå∏");
            }
        }

        // ========== VIRTUAL DOLL GAME ==========
        function loadVirtualDoll() {
            const saved = localStorage.getItem('virtualDollZah');
            if (saved) {
                try {
                    const savedData = JSON.parse(saved);
                    virtualDoll = savedData;
                    // Update time together
                    const minutesTogether = Math.floor((Date.now() - virtualDoll.startTime) / (1000 * 60));
                    virtualDoll.startTime = Date.now() - (minutesTogether * 60 * 1000);
                } catch(e) {
                    console.log("Error loading virtual doll:", e);
                }
            }
            updateDollDisplay();
        }

        function saveVirtualDoll() {
            localStorage.setItem('virtualDollZah', JSON.stringify(virtualDoll));
        }

        function startDollTimer() {
            clearInterval(dollInterval);
            dollInterval = setInterval(updateDollStats, 5000);
        }

        function updateDollStats() {
            // Love level decreases slowly over time
            virtualDoll.loveLevel = Math.max(0, virtualDoll.loveLevel - 0.5);
            
            // Update time together
            const minutesTogether = Math.floor((Date.now() - virtualDoll.startTime) / (1000 * 60));
            
            updateDollDisplay();
            saveVirtualDoll();
        }

        function hugDoll() {
            virtualDoll.hugCount++;
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 10);
            virtualDoll.interactionCount++;
            
            const messages = [
                "Aww, pelukan hangat! ü•∞",
                "Terima kasih sudah memelukku! ü§ó",
                "Pelukan terbaik hari ini! üíñ",
                "Kamu yang terbaik! üòç",
                "Aku senang dipeluk! ü•π"
            ];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            
            showDollMessage(randomMessage);
            updateDollDisplay();
            saveVirtualDoll();
            
            // Animation
            const doll = document.getElementById('dollCharacter');
            doll.style.transform = 'scale(1.2)';
            setTimeout(() => {
                doll.style.transform = 'scale(1)';
            }, 300);
        }

        function playWithDoll() {
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 15);
            virtualDoll.interactionCount++;
            
            showDollMessage("Yey, main bersama! üéÆ");
            updateDollDisplay();
            saveVirtualDoll();
            
            // Animation
            const doll = document.getElementById('dollCharacter');
            doll.style.animation = 'bounce 0.5s';
            setTimeout(() => {
                doll.style.animation = '';
            }, 500);
        }

        function feedDoll() {
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 8);
            virtualDoll.interactionCount++;
            
            const foods = ['üç™', 'üç©', 'üç∞', 'üçì', 'üç¶'];
            const randomFood = foods[Math.floor(Math.random() * foods.length)];
            
            showDollMessage(`Makan ${randomFood} enak banget!`);
            updateDollDisplay();
            saveVirtualDoll();
        }

        function singToDoll() {
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 12);
            virtualDoll.interactionCount++;
            virtualDoll.isSinging = true;
            
            const songs = ['üéµ Twinkle Twinkle', 'üé∂ Baby Shark', 'üé§ Lagu Rohani', 'üéº Nada Indah'];
            const randomSong = songs[Math.floor(Math.random() * songs.length)];
            
            showDollMessage(`${randomSong}... merdu banget!`);
            updateDollDisplay();
            saveVirtualDoll();
            
            setTimeout(() => {
                virtualDoll.isSinging = false;
            }, 3000);
        }

        function changeDollClothes() {
            currentClothesIndex = (currentClothesIndex + 1) % dollClothes.length;
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 5);
            virtualDoll.interactionCount++;
            
            const doll = document.getElementById('dollCharacter');
            doll.textContent = dollClothes[currentClothesIndex];
            
            const clothesNames = ['Boneka Teddy', 'Boneka Beruang', 'Boneka Kelinci', 'Boneka Kucing', 'Boneka Rubah', 'Boneka Anjing', 'Boneka Koala'];
            showDollMessage(`Aku sekarang ${clothesNames[currentClothesIndex]}! üéÄ`);
            updateDollDisplay();
            saveVirtualDoll();
        }

        function danceWithDoll() {
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 20);
            virtualDoll.interactionCount++;
            virtualDoll.isDancing = true;
            
            showDollMessage("Ayo menari bersama! üíÉüï∫");
            updateDollDisplay();
            saveVirtualDoll();
            
            const doll = document.getElementById('dollCharacter');
            doll.style.animation = 'spin 1s linear';
            setTimeout(() => {
                doll.style.animation = '';
                virtualDoll.isDancing = false;
            }, 1000);
        }

        function tellStoryToDoll() {
            virtualDoll.loveLevel = Math.min(100, virtualDoll.loveLevel + 18);
            virtualDoll.interactionCount++;
            
            const stories = ['üìñ Cerita Putri', 'üêâ Petualangan Naga', 'üåü Bintang Kejora', 'üè∞ Istana Ajaib'];
            const randomStory = stories[Math.floor(Math.random() * stories.length)];
            
            showDollMessage(`${randomStory}... seru banget!`);
            updateDollDisplay();
            saveVirtualDoll();
        }

        function showDollMessage(message) {
            const msgElement = document.getElementById('dollMessage');
            msgElement.textContent = message;
            msgElement.style.opacity = 1;
            
            setTimeout(() => {
                msgElement.style.opacity = 0.8;
            }, 3000);
        }

        function updateDollDisplay() {
            document.getElementById('hugCount').textContent = virtualDoll.hugCount;
            document.getElementById('loveLevel').textContent = Math.floor(virtualDoll.loveLevel) + '%';
            
            // Update mood based on love level
            let moodIndex = 0;
            if (virtualDoll.loveLevel > 80) moodIndex = 0;
            else if (virtualDoll.loveLevel > 60) moodIndex = 1;
            else if (virtualDoll.loveLevel > 40) moodIndex = 2;
            else if (virtualDoll.loveLevel > 20) moodIndex = 3;
            else moodIndex = 4;
            
            document.getElementById('dollMood').textContent = dollMoods[moodIndex];
            document.getElementById('interactionCount').textContent = virtualDoll.interactionCount;
            
            const minutesTogether = Math.floor((Date.now() - virtualDoll.startTime) / (1000 * 60));
            document.getElementById('timeTogether').textContent = minutesTogether;
            
            // Update doll appearance based on activity
            const doll = document.getElementById('dollCharacter');
            if (virtualDoll.isDancing) {
                doll.style.color = '#ff00ff';
                doll.style.transform = 'rotate(10deg)';
            } else if (virtualDoll.isSinging) {
                doll.style.color = '#00ffff';
                doll.style.transform = 'scale(1.1)';
            } else {
                doll.style.color = '#ffffff';
                doll.style.transform = 'scale(1)';
            }
        }

        function resetDoll() {
            if (confirm("Reset Boneka Virtual? Semua progress akan hilang!")) {
                virtualDoll = {
                    hugCount: 0,
                    loveLevel: 100,
                    mood: 'happy',
                    clothes: 'default',
                    interactionCount: 0,
                    startTime: Date.now(),
                    isDancing: false,
                    isSinging: false
                };
                currentClothesIndex = 0;
                document.getElementById('dollCharacter').textContent = dollClothes[0];
                updateDollDisplay();
                saveVirtualDoll();
                showDollMessage("Boneka baru siap dipeluk! üß∏");
            }
        }

        // Initialize games on load
        document.addEventListener('DOMContentLoaded', function() {
            updateFishDisplay();
            startMemoryGame();
            getRandomTypeText();
            loadTamagotchi();
            startTamagotchiTimer();
            loadVirtualDoll();
            startDollTimer();
            
            // Set high score display
            const savedHighScore = localStorage.getItem('fishHighScore');
            if (savedHighScore) {
                fishHighScore = parseInt(savedHighScore);
                document.getElementById('fishHighScore').textContent = fishHighScore;
            }
            
            // Add keyboard shortcut for games (Ctrl+G)
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'g') {
                    e.preventDefault();
                    openGame();
                }
            });
            
            // Add CSS animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes bounce {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-20px); }
                }
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
